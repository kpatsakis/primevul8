inline bool isnan(double val) { return std::isnan(val); }